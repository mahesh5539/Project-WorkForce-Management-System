<!DOCTYPE html>
<html lang="en" ng-app>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title><%= title %></title>
    <!-- Bootstrap Core CSS -->
    <link href="stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="stylesheets/style.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="stylesheets/stylish-portfolio.css" rel="stylesheet">
    
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    
    <script>
    	function signupcontroller($scope, $http){
    	
    		$scope.signupuser = function(){
    			var url = "/signup"; 				
	    				$http({
							method: 'POST',
							url: url,
							data:
							{
								'firstname': $scope.firstname,
								'lastname': $scope.lastname,
								'emailaddress': $scope.emailaddress,
								'password': $scope.password,
								'roleid': $scope.roles,
								'ssnnumber': $scope.ssnnumber,
							}						
							}).success(function(response){
								if(response.value.error == false){
									alert(response.value.result);
									$scope.firstname = "";
									$scope.lastname = "";
									$scope.emailaddress = "";
									$scope.password = "";
									$scope.roles = "";
									$scope.ssnnumber = "";
								}			
								else{
									alert(response.value.message);
								}			
							}).error(function(err){
								alert(err.value.message);
				});
    		};
    		
    		
    		var url = "/getallroles"; 				
	    				$http({
							method: 'GET',
							url: url					
							}).success(function(response){
								if(response.value.error == false){
									$scope.userroles = response.value.result;
									$scope.roles = 1;
								}			
								else{
									alert(response.value.message);
								}			
							}).error(function(err){
								alert(err.value.message);
				});
    	}
    </script>

</head>

<body ng-controller="signupcontroller">
    <!-- Header -->
	    <header id="top" class="header">
	        <div class="text-vertical-center">
	        	<table width="100%">
	        		<tr>
	        			<td align="center">	        				
					        <table class="tblSignup">
					        	<tr>
					        		<td align="center" colspan="2">
					        			<img title="SJ Security" style="height: 270px; width: 270px; margin-bottom: -115px; margin-top: 25px;" src="img/logo.png" alt="SJ Security" />
					        		</td>
					        	</tr>
					        	<tr>
					        		<td colspan="2">
					        			<br />
					        		</td>
					        	</tr>
					        	<tr>
					        		<td style="width: 50%">
					        			<table>					        				
								        	<tr>
								        		<td align="center">
								        			<p><input class="textboxsignup" ng-model="firstname" type="text" placeholder="First Name" id="txtFirstName" name="firstName"></p>
								        		</td>
								        	</tr>
								        	<tr>
								        		<td>
								        			<br />
								        		</td>
								        	</tr>
								        	<tr>
								        		<td align="center">
								        			<p><input ng-model="lastname" class="textboxsignup" type="text" placeholder="Last Name" id="txtLastName" name="lastName"></p>
								        		</td>
								        	</tr>
								        	<tr>
								        		<td>
								        			<br />
								        		</td>
								        	</tr>
								        	<tr>
								        		<td align="center">
								        			<p><input class="textboxsignup" ng-model="emailaddress" type="text" placeholder="Email Address" id="txtEmail" name="email"></p>
								        		</td>
								        	</tr>
					        			</table>
					        		</td>
					        		<td style="width: 50%">
					        			<table>					        				
								        	<tr>
								        		<td>
								        			<p><input class="textboxsignup" ng-model="password" type="password" placeholder="Password" id="txtPassword" name="password"></p>
								        		</td>
								        	</tr>
								        	<tr>
								        		<td>
								        			<br />
								        		</td>
								        	</tr>
								        	<tr>
								        		<td>
								        			<p><input class="textboxsignup" maxlength="10" ng-model="ssnnumber" type="text" placeholder="SSN Number" id="txtssnnumber" name="ssnnumber"></p>
								        		</td>
								        	</tr>
								        	<tr>
								        		<td>
								        			<br />
								        		</td>
								        	</tr>
								        	<tr>
								        		<td align="center">
								        			<p>
								        				<select ng-model="roles" style="height: 40px; width: 280px; border-radius: 5px;" ng-options="item.RoleId as item.RoleDescription for item in userroles">
								        				</select>
								        			</p>
								        		</td>
								        	</tr>
					        			</table>
					        		</td>
					        	</tr>
					        	<tr>
					        		<td colspan="2">
					        			<br />
					        		</td>
					        	</tr>
					        	<tr>
					        		<td align="center" colspan="2">
					        			<a href="javascript:void(0)" ng-click="signupuser()" id="btnUpdate" class="btnGreen btnCancel">
                        				<span class="btnR"><span class="btnC">Sign up</span></span></a> 
					        		</td>
					        	</tr>
					        	<tr>
					        		<td>
					        			<br />
					        		</td>
					        	</tr>
					        </table>
	        			</td>
	        		</tr>	        		
	        	</table>
	        </div>
	    </header>    
	
	    <!-- Footer -->
	        <div class="footer">
	        	<label>Copyright &copy; SJ Security 2015</label>
	        </div>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
</body>

</html>